{% extends 'index.html'%}
{%load staticfiles%}

{%block head %}


{%endblock%}
{%block wrapper %}style="background-color:#FFF; "{%endblock%}

{%block form%}
<form action="{% url 'contenido_mostrar'%}" method="GET" id="form">
    <input type="text" class="animated fadeIn form-control" placeholder="Buscar un contenido..." name="q" id="q" value="{{q}}">
    <input type="hidden" name="tipo" id="tipo_id" value="{{tipo_q}}">
    <input type="hidden" name="categoria" id="categoria_id" value="{{categoria_q}}">
    <input type="hidden" name="comienzo" id="comienzo_id" value="{{comienzo}}">
</form>
{%endblock%}


{%block contenido%}
	<!--=== Content Part ===-->
 		<div class="content container" >
 			<div class="row">
 				<div class="col-md-3 filter-by-block md-margin-bottom-60">
 					<h1 class="text-center" style="background-color:#4765a0; font-weight:bold; color:#FFF; border-radius:10px;">Filtar Por</h1>
 					<div class="panel-group" id="accordion"  >
 						<div class="panel panel-default" >
 							<div class="panel-heading" style="background-color:#fff; color: #687074;">
 								<h2 class="panel-title" >
 									<a data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
 										Tipo
 										<i class="fa fa-angle-down"></i>
 									</a>
 								</h2>
 							</div>
 							<div id="collapseOne" class="panel-collapse collapse in">
 								<div class="panel-body" style="background-color:#fff;">
 									<ul class="list-unstyled checkbox-list" >
 										{%for tipo in tipos%}
                                        <li>
 											<label class="checkbox" style="color:#4765a0; margin:10px;">
                                                {%ifequal tipo.get_nombre tipo_q%}
 												<input type="checkbox" class="btn-r-tipo" id="{{tipo}}" name="checkbox" checked/>
                                                {%else%}
 												<input type="checkbox" class="btn-tipo" id="{{tipo}}" name="checkbox"/>
                                                {%endifequal%}
 												<i></i>
 												{{tipo}}
 											</label>
 										</li>
                                        {%endfor%}
 									</ul>
 								</div>
 							</div>
 						</div>
 					</div><!--/end panel group-->

 					<div class="panel-group" id="accordion-v2">
 						<div class="panel panel-default">
 							<div class="panel-heading" style="background-color:#fff; color: #687074;">
 								<h2 class="panel-title">
 									<a data-toggle="collapse" data-parent="#accordion-v2" href="#collapseTwo">
 										Categoria
 										<i class="fa fa-angle-down"></i>
 									</a>
 								</h2>
 							</div>
 							<div id="collapseTwo" class="panel-collapse collapse in">
 								<div class="panel-body" style="background-color:#fff;">
 									<ul class="list-unstyled checkbox-list">
 										{%for cat in categorias %}
                                        <li>
 											<label class="checkbox" style="color:#4765a0; margin:10px;">
                                                {%ifequal cat.get_nombre categoria_q%}
 												<input type="checkbox" id="{{cat}}" class="btn-r-categoria" name="checkbox" checked/>
                                                {%else%}
 												<input type="checkbox" id="{{cat}}" class="btn-categoria" name="checkbox" />
                                                {%endifequal%}
 												<i></i>
 												{{cat}}
 											</label>
 										</li>
                                        {%endfor%}
 									</ul>
 								</div>
 							</div>
 						</div>
 					</div><!--/end panel group-->
 				</div>

 				<div class="col-md-9">
 					<div class="row margin-bottom-5">
 						<div class="col-sm-4 result-category">
 							<h2>{%if q%}{{q}}{%else%}Contenido{%endif%}</h2>
 						</div>
 					</div><!--/end result category-->

 					<div class="filter-results">
 						<div class="row illustration-v2 margin-bottom-30">
 							{%for cont in contenido%}
                            {% ifequal forloop.counter 1 %}
                                <div class="row illustration-v2 margin-bottom-30">
                            {%endifequal%}
                            {% ifequal forloop.counter 4 %}
                                <div class="row illustration-v2 margin-bottom-30">
                            {%endifequal%}
                            {% ifequal forloop.counter 7 %}
                                <div class="row illustration-v2 margin-bottom-30">
                            {%endifequal%}

                            <div class="col-md-4">
 								<div class="product-img product-img-brd">
 									<a href="{% url 'contenido_ver_mas' contenido_id=cont.id%}"><img class="full-width img-responsive" src="{% static 'unify-ecommerce/img/blog/16.jpg'%}" alt=""></a>
 									<div class="bg-primary text-center" style="">{{cont.get_acceso}}</div>

 								</div>
 								<div class="product-description product-description-brd margin-bottom-30 ">
 									<div class="overflow-h margin-bottom-5">
 										<div class="text-center">
 											<h4 class="title-price"><a href="{% url 'contenido_ver_mas' contenido_id=cont.id%}">{{cont.get_nombre}}</a></h4>
 											<span class="gender text-uppercase">{{cont.get_tipo}}</span>-
 											<span class="gender">{{cont.get_categoria}}</span><br>
                                            <a class="btn btn-success" href="{% url 'contenido_ver_mas' contenido_id=cont.id %}">Ver mas</a>

 										</div>
 									</div>
 								</div>
 							</div>
                            {% ifequal forloop.counter 3 %}
                                </div>
                            {%endifequal%}
                            {% ifequal forloop.counter 6 %}
                                </div>
                            {%endifequal%}
                            {% ifequal forloop.counter 9 %}
                                </div>
                            {%endifequal%}

                            {%endfor%}
                            {% ifequal productos|length 1%}</div>{%endifequal%}
                            {% ifequal productos|length 2%}</div>{%endifequal%}
                            {% ifequal productos|length 4%}</div>{%endifequal%}
                            {% ifequal productos|length 5%}</div>{%endifequal%}
                            {% ifequal productos|length 7%}</div>{%endifequal%}
                            {% ifequal productos|length 8%}</div>{%endifequal%}
                    <div class="text-center">
 						<ul class="pagination pagination-v2">
 							<li><a href="#" class="btn-atras"><i class="fa fa-angle-left"></i></a></li>
 							<li><a href="#" class="btn-sig"><i class="fa fa-angle-right"></i></a></li>
 						</ul>
 					</div><!--/end pagination-->
 				</div>
 			</div><!--/end row-->
 		</div><!--/end container-->
            </div>
        </div>
 		<!--=== End Content Part ===-->

{%endblock%}

{%block javascript%}
<script>
$(document).ready(function(){
let formulario = document.getElementById("form");

    $(".btn-tipo").click(function(){
        $("#tipo_id").val(this.id);
        formulario.submit();
    });
    $(".btn-categoria").click(function(){
        $("#categoria_id").val(this.id);
        formulario.submit();
    });
    $(".btn-r-tipo").click(function(){
        $("#tipo_id").val("");
        formulario.submit();
    });
    $(".btn-r-categoria").click(function(){
        $("#categoria_id").val("");
        formulario.submit();
    });
    $(".btn-sig").click(function(){
        let comienzo = parseInt($("#comienzo_id").val()) + parseInt(10);
        $("#comienzo_id").val(comienzo);
        formulario.submit();
    });
    $(".btn-atras").click(function(){
        let comienzo = parseInt($("#comienzo_id").val()) - parseInt(10);
        $("#comienzo_id").val(comienzo);
        formulario.submit();
    });

});
</script>

{%endblock%}

